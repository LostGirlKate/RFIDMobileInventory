package lost.girl.rfidmobileinventory.data.readers.rfid

import kotlinx.coroutines.delay

class RfidReaderFake {
    private var power: Int = 20
    private var index = -1
    private val tagList  = mutableListOf("00000001000001",
        "00000001000002",
        "00000001000003",
        "00000001000004",
        "00000001000005",
        "00000001000006",
        "00000001000007",
        "00000001000008",
        "00000001000009",
        "00000001000010",
        "00000001000011",
        "00000001000012",
        "00000001000013",
        "00000001000014",
        "00000001000015",
        "00000001000016",
        "00000001000017",
        "00000001000018",
        "00000001000019",
        "00000001000020",
        "00000001000021",
        "00000001000022",
        "00000001000023",
        "00000001000024",
        "00000001000025",
        "00000001000026",
        "00000001000027",
        "00000001000028",
        "00000001000029",
        "00000001000030",
        "00000001000031",
        "00000001000032",
        "00000001000033",
        "00000001000034",
        "00000001000035",
        "00000001000036",
        "00000001000037",
        "00000001000038",
        "00000001000039",
        "00000001000040",
        "00000001000041",
        "00000001000042",
        "00000001000043",
        "00000001000044",
        "00000001000045",
        "00000001000046",
        "00000001000047",
        "00000001000048",
        "00000001000049",
        "00000001000050",
        "00000001000051",
        "00000001000052",
        "00000001000053",
        "00000001000054",
        "00000001000055",
        "00000001000056",
        "00000001000057",
        "00000001000058",
        "00000001000059",
        "00000001000060",
        "00000001000061",
        "00000001000062",
        "00000001000063",
        "00000001000064",
        "00000001000065",
        "00000001000066",
        "00000001000067",
        "00000001000068",
        "00000001000069",
        "00000001000070",
        "00000001000071",
        "00000001000072",
        "00000001000073",
        "00000001000074",
        "00000001000075",
        "00000001000076",
        "00000001000077",
        "00000001000078",
        "00000001000079",
        "00000001000080",
        "00000001000081",
        "00000001000082",
        "00000001000083",
        "00000001000084",
        "00000001000085",
        "00000001000086",
        "00000001000087",
        "00000001000088",
        "00000001000089",
        "00000001000090",
        "00000001000091",
        "00000001000092",
        "00000001000093",
        "00000001000094",
        "00000001000095",
        "00000001000096",
        "00000001000097",
        "00000001000098",
        "00000001000099",
        "00000001000100")

    suspend fun readTagFromBuffer(): String {
        delay(1500)
        index++
        return tagList[index]
    }

    fun startInventoryTag(): Boolean = true

    fun stopInventory(): Boolean = true

    fun init(): Boolean  = true

    fun setPower(value: Int): Boolean {
        power = value
        return true
    }

    fun getPower(): Int = power

    fun getRandomString(length: Int): String {
        val allowedChars = ('A'..'Z') + ('a'..'z') + ('0'..'9')
        return (1..length)
            .map { allowedChars.random() }
            .joinToString("")
    }
}